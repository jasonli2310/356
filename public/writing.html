<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="stylesheet" type="text/css" href="bootstrap.css">
  <link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,400i,600,700|Roboto:300,400,500,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">


  <title></title>
</head>
<body>
  <div class="container">
    <div id="story">

      <div class="paragraph-container">
        <div class="title">
          On Loneliness
        </div>
      </div>

      <div class="paragraph-container" id="a1p2"> <!--article1paragraph2 -->
        <div class="words">
          I spent my first Sunday in Boston at a smoke shop with Domingo, the shop owner. Between 1 and 5PM, thirteen people spent an average of seven dollars each. I’ve never worked in retail before. A slim asian man came to fix his vape but left with a new one altogether. I would later find out he’s the host who gives Stephen free thai iced teas at the restaurant next door. Another older woman negotiated for a pack of free cigarettes. Her end of the deal arrived a few hours later in paper bags raised high above her head, as she now sported a triumphant Shake Shack uniform. Domingo and I and ShakeShack lady shared a blunt before I biked home in the dark.
        </div>
        <button class="commentButton" v-on:click="currentParagraphId = 'paragraph1', showModal=true">
          <i class="far fa-comment" aria-hidden="true"></i>
        </button>
      </div>

      <div class="paragraph-container" id="paragraph2">
        <div class="words">
          “There seems to be hope of finding friends in this town,” I thought, but so far they didn’t look like the ivy league students I was used to being around. My mind wandered further, questioning the root of my curiosity and my identity, particularly if these were the people I evidently chose to spend my weekend with. Is it rare to suddenly be in a place without knowing anyone? Perhaps this is what having a past life feels like. I went to bed confused and frankly, more scared than I’ve been before.
        </div>
        <button class="commentButton" v-on:click="currentParagraphId = 'paragraph2', showModal=true">
          <i class="far fa-comment" aria-hidden="true"></i>
        </button>
      </div>

      <div id="commentModal" class="modal" v-bind:class="{ modalActive: showModal}" v-on:click="closeModal">

        <!-- Modal content -->
        <div class="modal-content" >
          <div class="modal-header">
            <span class="close" v-on:click="showModal = false">&times;</span>
            <h2>Modal Header</h2>
          </div>
          <div class="modal-body">
            <p>Some text in the Modal Body</p>
            <p>Some other text...</p>
          </div>
          <div class="modal-footer">
            <h3>Modal Footer</h3>
          </div>
        </div>

      </div>
    </div>




  </div>



</body>


<script>

var vm = new Vue({
  el: '#story',
  data: {
    items: [],
    currentParagraphId: 0,
    showModal: false,
    modalVariable: 1
  },
  methods: {
    closeModal: function (){
      console.log('closing modal here')
      if (event.target.id == 'commentModal' ) {
        this.showModal = false
      }

    }
  },
  created: function () {
    // `this` points to the vm instance
    axios.get('/products/posts').then(function(response){

      console.log("hey there")
      console.log(response.data)
      vm.items = response.data.thoughts;
    })

    // When the user clicks anywhere outside of the modal, close it

    // var modal = document.getElementById('myModal');
    // window.onclick = function(event) {
    //   if (event.target == modal) {
    //      console.log("ayo ayo")
    //      alert(event.target.tagName)
    //      vm.showModal = false;
    //    }
    // }


    ;
  }


})

//Get the modal
// var modal = document.getElementById('myModal');
// // When the user clicks anywhere outside of the modal, close it
// window.onclick = function(event) {
//   if (event.target == modal) {
//     console.log("ayo ayo")
//     modal.style.display = "none";
//   }
// }
</script>
</html>
